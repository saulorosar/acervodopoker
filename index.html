<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arquivo do Poker ‚Äì Acervo Hist√≥rico</title>
    <style>
        /* ESTILO LIMPO E PROFISSIONAL */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: #ffffff;
            color: #1a1a1a;
            line-height: 1.6;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            border-bottom: 2px solid #0a2463;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        h1 {
            font-size: 2.2em;
            color: #0a2463;
            font-weight: 600;
            letter-spacing: -0.5px;
        }
        .subtitulo {
            color: #666;
            font-size: 1.1em;
            margin-top: 5px;
        }
        .evento {
            border-bottom: 1px solid #eaeaea;
            padding: 20px 0;
            transition: background 0.2s;
        }
        .evento:hover {
            background-color: #f9f9f9;
        }
        .data {
            color: #0a2463;
            font-weight: 600;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .titulo-evento {
            font-size: 1.3em;
            font-weight: 600;
            margin: 5px 0 3px 0;
            color: #000;
        }
        .jogador {
            font-size: 1.1em;
            color: #0a2463;
            font-weight: 500;
            margin-bottom: 8px;
        }
        .time {
            display: inline-block;
            background-color: #f0f0f0;
            padding: 2px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            color: #333;
            margin-left: 8px;
        }
        .detalhes {
            color: #555;
            font-size: 0.95em;
        }
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #eaeaea;
            text-align: center;
            color: #888;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìö Arquivo do Poker</h1>
            <div class="subtitulo">Acervo hist√≥rico do poker brasileiro ‚Ä¢ resultados desde 2023</div>
        </header>

        <main id="timeline">
            <div class="loading">Carregando eventos hist√≥ricos...</div>
        </main>

        <footer>
            <p>Arquivo do Poker ‚Äì projeto independente ‚Ä¢ dados atualizados semanalmente</p>
            <p style="margin-top: 10px; font-size: 0.8em;">üëâ quer incluir seu time ou patrocinador? <a href="mailto:contato@arquivodopoker.com.br" style="color: #0a2463; text-decoration: none;">fale conosco</a></p>
        </footer>
    </div>

    <script>
        // SUA PLANILHA PUBLICADA ‚Äì URL DE CSV
        const sheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vThbX0i_1Ph_1b0QqDxUPZg4E2QDG2ulw6sRzQJqmqyVnHaAUdu_LCilhs3go5rS_jwLYJ9sr5IGUSK/pub?gid=0&single=true&output=csv;

        // MAPEAMENTO DE JOGADORES (ID ‚Üí NOME)
        const jogadores = {
            1: "Jo√£o", 2: "Maria", 3: "Carlos", 4: "Saulo", 5: "Fran",
            6: "Cleber", 7: "Vanessa", 8: "Marcos", 9: "Helio",
            10: "Jos√© Belarmino (Sr. Z√©)", 11: "Carlos Augusto", 12: "Dr. Geraldo Garcia",
            13: "Adriano Lindner", 14: "Marcos H. (Santista)", 15: "Mauricio Diaz",
            16: "Dennis Reserva", 17: "Ailton Alves", 18: "Jonathan Santos",
            19: "Rog√©rio Gold", 20: "Sergio Scopel", 21: "Alcir Notari",
            22: "Anderson Moraes", 23: "Jo√£o Junior", 24: "Alessandre Iba",
            25: "Anderson Barros", 26: "Luiz H. (Henrique Brito)", 27: "Leniton Bronze",
            28: "Cristian Rico", 29: "Leonardo Cruz", 30: "Luiz Ezequiel (Zico)",
            31: "Claudio Molina", 32: "Rodrigo Pressoto", 33: "Paulo Roberto",
            34: "Atair Pissaia", 35: "Marion Susin", 36: "Paulo Cesar Kauer",
            37: "Leonardo Scalabrin", 38: "Vilson Rodrigues", 39: "Sergio Monteiro",
            40: "Hamilton Junior", 41: "Mayckon Cardoso", 42: "Arthur Oliveira",
            43: "Jos√© Macedo", 44: "Jo√£o Carlos Grando", 45: "Juliano Ortiz",
            46: "Adilson Just", 47: "Marcello Fernandes", 48: "Geanfrancesco Pereira",
            49: "Djeik Williams", 50: "Ricardo Piva", 51: "Celio Reis",
            52: "Aura de Melo", 53: "Luciano Pancich", 54: "Alcenor Mocelin",
            55: "Diego Nardini", 56: "Artur Rocha", 57: "Alex Gaspar",
            58: "Reiner Weihermann", 59: "Mauro Santos"
        };

        async function carregarEventos() {
            try {
                const response = await fetch(sheetURL);
                const csv = await response.text();
                
                // Parse simples do CSV
                const linhas = csv.split('\n').slice(1); // Remove cabe√ßalho
                const eventos = [];
                
                linhas.forEach(linha => {
                    if (linha.trim() === '') return;
                    const cols = linha.split(',');
                    if (cols.length < 10) return;
                    
                    eventos.push({
                        id: cols[0]?.replace(/"/g, ''),
                        data: cols[1]?.replace(/"/g, ''),
                        torneio: cols[2]?.replace(/"/g, ''),
                        serie: cols[3]?.replace(/"/g, ''),
                        campeaoId: cols[9]?.replace(/"/g, ''),
                        local: cols[7]?.replace(/"/g, '')
                    });
                });

                // Ordenar do mais recente para o mais antigo
                eventos.sort((a, b) => b.data.localeCompare(a.data));
                
                const timeline = document.getElementById('timeline');
                timeline.innerHTML = '';
                
                let anoAtual = '';
                
                eventos.forEach(evento => {
                    if (!evento.data || !evento.torneio) return;
                    
                    const ano = evento.data.split('-')[0];
                    const dataFormatada = new Date(evento.data).toLocaleDateString('pt-BR', {
                        day: '2-digit', month: '2-digit', year: 'numeric'
                    });
                    
                    let html = '';
                    
                    // Mostrar separador de ano
                    if (ano !== anoAtual) {
                        anoAtual = ano;
                        html += `<h2 style="margin: 30px 0 15px 0; color: #0a2463; border-bottom: 1px solid #0a2463; padding-bottom: 5px;">${ano}</h2>`;
                    }
                    
                    const nomeJogador = jogadores[evento.campeaoId] || `Jogador #${evento.campeaoId}`;
                    
                    html += `
                        <div class="evento">
                            <div class="data">${dataFormatada}</div>
                            <div class="titulo-evento">${evento.torneio}</div>
                            <div class="jogador">
                                üèÜ ${nomeJogador}
                                <span class="time">Vip Poker Club</span>
                            </div>
                            <div class="detalhes">üìç ${evento.local || 'S√£o Paulo'}</div>
                        </div>
                    `;
                    
                    timeline.innerHTML += html;
                });
                
            } catch (error) {
                console.error('Erro ao carregar eventos:', error);
                document.getElementById('timeline').innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #666;">
                        ‚ö†Ô∏è Erro ao carregar eventos. Tentando novamente...
                    </div>
                `;
            }
        }

        carregarEventos();
    </script>
</body>
</html>
